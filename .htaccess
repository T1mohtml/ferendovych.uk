# No HTTPS redirect â€” Cloudflare handles it
AddDefaultCharset UTF-8
Options -Indexes

<Files "info.php">
    AuthType Basic
    AuthName "Restricted Area"
    AuthUserFile /var/www/html/.htpasswd
    Require valid-user
</Files>

RewriteEngine On

# Redirect /file.php to /file (clean URL)
RewriteCond %{THE_REQUEST} \s/([a-zA-Z0-9_-]+)\.php [NC]
RewriteRule ^([a-zA-Z0-9_-]+)\.php$ /$1 [R=301,L]

# Internally rewrite /file to /file.php if it exists
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{DOCUMENT_ROOT}/$1.php -f
RewriteRule ^([a-zA-Z0-9_-]+)$ $1.php [L]
